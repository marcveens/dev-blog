---
date: '2019-09-15T00:00:00.000Z'
title: 'Testing your React components with Jest and @testing-library'
description: 'An example of testing a custom datepicker using React, Jest and @testing-library'
tags:
  - "React"
  - "Jest"
  - "testing"
---

There are several different ways of React component testing, but I chose for this particular combination because `create-react-app` uses <a href="https://www.npmjs.com/package/jest" target="_blank" rel="noopener noreferrer">Jest</a> as their default test runner.

Furthermore I used <a href="https://www.npmjs.com/package/@testing-library/react" target="_blank" rel="noopener noreferrer">`@testing-library/react`</a> for providing utilities to test React components and <a href="https://www.npmjs.com/package/@testing-library/jest-dom" target="_blank" rel="noopener noreferrer">`@testing-library/jest-dom`</a> for useful DOM assertion functions. 

First off I created a simple custom datepicker element I wanted to use for testing. It contains 2 select fields for the day and month, and a number input for the year. 

In the simple example below I test a few simple use cases. Do the inputs have the right values when I provide no default selected date? What if I do provide a default selected date? What if a user selects a value? Just a few simple examples to show you how to use the combination of libraries mentioned above. 

<iframe src="https://codesandbox.io/embed/component-testing-c3rvs?fontsize=14&module=%2Fsrc%2FDatepicker.test.tsx&view=editor" title="component-testing" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" style={{ width: '100%', height: '500px', border: 0, borderRadius: '4px', overflow: 'hidden' }} sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>

A few useful know-hows worth mentioning:
- The `getByTestId()` function looks for elements within your component with the `data-testid` attribute 
- Use `fireEvent` for firing DOM events. Take a look at the <a href="https://testing-library.com/docs/dom-testing-library/api-events#fireevent-eventname" target="_blank" rel="noopener noreferrer">documentation</a> to find out what events can be mocked, there are a lot of them!
- `@testing-library/react` even provides a <a href="https://testing-library.com/docs/react-testing-library/api#hydrate" target="_blank" rel="noopener noreferrer">`hydrate`</a> testing method. Useful for testing how your components are rendered after SSR.

Cheers!